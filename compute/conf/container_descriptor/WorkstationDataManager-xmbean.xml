<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mbean PUBLIC
          "-//JBoss//DTD JBOSS XMBEAN 1.0//EN"
          "http://www.jboss.org/j2ee/dtd/jboss_xmbean_1_0.dtd">
<mbean>

    <description>Workstation Management Bean</description>
    <class>org.janelia.it.jacs.compute.mbean.WorkstationDataManager</class>
    <constructor>
        <description>The default constructor</description>
        <name>WorkstationDataManager</name>
    </constructor>

    <operation>
        <description>Synchronize Neo4j to the database</description>
        <name>runNeo4jSync</name>
        <parameter>
           <description>Clear the Neo4j database first?</description>
           <name>clearDb</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Synchronize the MongoDb to the database</description>
        <name>runMongoDbSync</name>
        <parameter>
           <description>Clear the MongoDB first?</description>
           <name>clearDb</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Synchronize the SOLR indexes to the database</description>
        <name>runSolrIndexSync</name>
        <parameter>
           <description>Clear the index first?</description>
           <name>clearIndex</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Synchronize the given user's Sample fileshare with the database</description>
        <name>runSampleSyncService</name>
        <parameter>
           <description>User to run as (e.g. "system")</description>
           <name>user</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Should this run as a test without making any real changes?</description>
           <name>testRun</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>

    <operation>
        <description>Synchronize the given user's Samples with their most recent results</description>
        <name>runSampleImageSync</name>
        <parameter>
           <description>User to run as (e.g. "system")</description>
           <name>user</name>
           <type>java.lang.String</type>
        </parameter>
    </operation>

    <operation>
        <description>Compress all of the user's v3draw files to v3dpbd</description>
        <name>runMCFODataCompress</name>
        <parameter>
            <description>User to run as (e.g. "system")</description>
            <name>user</name>
            <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Should this run as a test without making any real changes?</description>
           <name>testRun</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Upgrade the given user's MCFO results to use the most current entity structure</description>
        <name>runMCFODataUpgrade</name>
        <parameter>
            <description>User to run as (e.g. "system")</description>
            <name>user</name>
            <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Should this run as a test without making any real changes?</description>
           <name>testRun</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Run Central Brain Pipeline</description>
        <name>runCentralBrainDataPipeline</name>
        <parameter>
           <description>User to run as (e.g. "system")</description>
           <name>user</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Name of the folder entity where results will be placed (e.g. "FlyLight Single Neuron Data")</description>
           <name>topLevelFolderName</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Re-run merging and stitching?</description>
           <name>refreshProcessing</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run brain alignments?</description>
           <name>refreshAlignment</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run neuron separations?</description>
           <name>refreshSeparation</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Run the entire Whole Brain 63x Alignment Pipeline</description>
        <name>runAlignWholeBrainDataPipeline</name>
        <parameter>
           <description>User to run as (e.g. "system")</description>
           <name>user</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Re-run brain alignments?</description>
           <name>refreshAlignment</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run neuron separations?</description>
           <name>refreshSeparation</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Run the Whole Brain 63x Alignment Pipeline for a single Sample</description>
        <name>runAlignWholeBrainSamplePipeline</name>
        <parameter>
           <description>Entity id of the sample to run (e.g. "1679282451010027618")</description>
           <name>sampleEntityId</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Re-run brain alignments?</description>
           <name>refreshAlignment</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run neuron separations?</description>
           <name>refreshSeparation</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Run the entire Two Channel Pipeline</description>
        <name>runTwoChanDataPipeline</name>
        <parameter>
           <description>User to run as (e.g. "system")</description>
           <name>user</name>
           <type>java.lang.String</type>
        </parameter>
    </operation>

    <operation>
        <description>Run the Two Channel Pipeline for a single Sample</description>
        <name>runTwoChanSamplePipeline</name>
        <parameter>
           <description>Entity id of the sample to run (e.g. "1679282451010027618")</description>
           <name>sampleEntityId</name>
           <type>java.lang.String</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Run the entire MCFO Data Pipeline</description>
        <name>runMCFODataPipeline</name>
        <parameter>
           <description>User to run as (e.g. "system")</description>
           <name>user</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Name of the folder entity where results will be placed (e.g. "FlyLight Single Neuron Data")</description>
           <name>topLevelFolderName</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Re-run merging and stitching?</description>
           <name>refreshProcessing</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run brain alignments?</description>
           <name>refreshAlignment</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run neuron separations?</description>
           <name>refreshSeparation</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>

    <operation>
        <description>Run the MCFO Sample Pipeline for a single Sample</description>
        <name>runMCFOSamplePipeline</name>
        <parameter>
           <description>Entity id of the sample to run (e.g. "1679282451010027618")</description>
           <name>sampleEntityId</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Re-run merging and stitching?</description>
           <name>refreshProcessing</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run brain alignments?</description>
           <name>refreshAlignment</name>
           <type>java.lang.Boolean</type>
        </parameter>
        <parameter>
           <description>Re-run neuron separations?</description>
           <name>refreshSeparation</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>

    <operation>
        <description>Run the MCFO Separation Pipeline for a single input file</description>
        <name>runMCFOSeparationPipeline</name>
        <parameter>
           <description>Entity id of the sample to run (e.g. "1679282451010027618")</description>
           <name>sampleEntityId</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Input filename to run the separator on (e.g. "/groups/scicomp/jacsData/filestore/system/Sample/1681147037363486818/stitch/stitched-1681061667699425378.v3draw")</description>
           <name>inputFilename</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>The name of the result entity to create under the Sample (e.g. "Prealigned Neuron Separation")</description>
           <name>resultEntityName</name>
           <type>java.lang.String</type>
        </parameter>
    </operation>

    <operation>
        <description>Create or update an MCFO sample view</description>
        <name>runMCFOSampleViewCreation</name>
        <parameter>
           <description>Id of the entity to search for completed Samples (e.g. "1679282451010027618")</description>
           <name>sourceEntityId</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Name of the result view entity to create or update (e.g. "FlyLight Single Neuron Samples")</description>
           <name>targetEntityName</name>
           <type>java.lang.String</type>
        </parameter>
    </operation>
    
    <operation>
        <description>Run the FlyScreen Pipeline</description>
        <name>runFlyScreenPipeline</name>
        <parameter>
           <description>User to run as (e.g. "system")</description>
           <name>user</name>
           <type>java.lang.String</type>
        </parameter>
        <parameter>
           <description>Re-run the Samples that already have results?</description>
           <name>refresh</name>
           <type>java.lang.Boolean</type>
        </parameter>
    </operation>

    <operation>
         <description>Run the FlyScreen Pattern Annotation Pipeline</description>
         <name>runFlyScreenPatternAnnotationPipeline</name>
         <parameter>
            <description>User to run as (e.g. "system")</description>
            <name>user</name>
            <type>java.lang.String</type>
         </parameter>
         <parameter>
            <description>Re-run the Samples that already have results?</description>
            <name>refresh</name>
            <type>java.lang.Boolean</type>
         </parameter>
     </operation>

    <operation>
        <description>Do Entity load performance test and report results to log</description>
        <name>doEntityTreePerformanceTest</name>
    </operation>

    <operation>
        <description>Load entity types from Java class AnnotationDAO</description>
        <name>setupEntityTypes</name>
    </operation>

    <operation>
        <description>Perform custom surgery on Screen Pipeline results, by user</description>
        <name>performScreenPipelineSurgery</name>
        <parameter>
            <description>User to run as (e.g. "system")</description>
            <name>user</name>
            <type>java.lang.String</type>
        </parameter>
    </operation>

    <operation>
        <description>Run the File Tree Loader Pipeline</description>
        <name>runFileTreeLoaderPipeline</name>
        <parameter>
            <description>User to run as (e.g. "system")</description>
            <name>user</name>
            <type>java.lang.String</type>
        </parameter>
        <parameter>
            <description>Root directory path of tree to import</description>
            <name>rootDirectoryPath</name>
            <type>java.lang.String</type>
        </parameter>
        <parameter>
            <description>Name for top-level folder in Workstation</description>
            <name>topLevelFolderName</name>
            <type>java.lang.String</type>
        </parameter>
    </operation>

    <operation>
        <description>createPatternAnnotationQuantifierSummaryFile</description>
        <name>createPatternAnnotationQuantifierSummaryFile</name>
    </operation>

    <operation>
        <description>Run the Transcription Imaging Consortium Pipeline</description>
        <name>runTicPipeline</name>
        <parameter>
            <description>User to run as (e.g. "system")</description>
            <name>user</name>
            <type>java.lang.String</type>
        </parameter>
        <parameter>
            <description>Root directory path for the image files</description>
            <name>rootDirectoryPath</name>
            <type>java.lang.String</type>
        </parameter>
    </operation>
    
</mbean>
