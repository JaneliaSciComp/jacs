<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2010-2011, J. Craig Venter Institute, Inc.
  ~
  ~ This file is part of JCVI VICS.
  ~
  ~ JCVI VICS is free software; you can redistribute it and/or modify it
  ~ under the terms and conditions of the Artistic License 2.0.  For
  ~ details, see the full text of the license in the file LICENSE.txt.  No
  ~ other rights are granted.  Any and all third party software rights to
  ~ remain with the original developer.
  ~
  ~ JCVI VICS is distributed in the hope that it will be useful in
  ~ bioinformatics applications, but it is provided "AS IS" and WITHOUT
  ~ ANY EXPRESS OR IMPLIED WARRANTIES including but not limited to
  ~ implied warranties of merchantability or fitness for any particular
  ~ purpose.  For details, see the full text of the license in the file
  ~ LICENSE.txt.
  ~
  ~ You should have received a copy of the Artistic License 2.0 along with
  ~ JCVI VICS.  If not, the license can be obtained from
  ~ "http://www.perlfoundation.org/artistic_license_2_0."
  -->

<server>

    <mbean code="org.janelia.it.jacs.compute.mbean.ComputeStartup" name="ComputeServer:service=ComputeStartup"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.BlastTest" name="ComputeServer:service=BlastTest"/>
    <!--<mbean code="org.janelia.it.jacs.compute.mbean.HmmerTest" name="ComputeServer:service=HmmerTest"/>-->
    <!--<mbean code="org.janelia.it.jacs.compute.mbean.ReversePsiBlastTest" name="ComputeServer:service=ReversePsiBlastTest"/>-->
    <mbean code="org.janelia.it.jacs.compute.mbean.AdministrativeManager" name="ComputeServer:service=AdministrativeManager"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.AnnotationManager" name="ComputeServer:service=AnnotationManager"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.FileNodeManager" name="ComputeServer:service=FileNodeManager"/>
    <!--<mbean code="org.janelia.it.jacs.compute.mbean.RecruitmentNodeManager" name="ComputeServer:service=RecruitmentNodeManager"/>-->
    <mbean code="org.janelia.it.jacs.compute.mbean.AnnotationNodeManager" name="ComputeServer:service=AnnotationNodeManager"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.SearchDataManager" name="ComputeServer:service=SearchDataManager"/>
    <!--<mbean code="org.janelia.it.jacs.compute.mbean.GenomeProjectNodeManager" name="ComputeServer:service=GenomeProjectNodeManager"/>-->
    <mbean code="org.janelia.it.jacs.compute.mbean.GridJobsManager" name="ComputeServer:service=GridJobsManager"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.LocalTestManager" name="ComputeServer:service=LocalTestManager"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.SampleDataManager" name="ComputeServer:service=SampleDataManager"
        xmbean-dd="resource:META-INF/SampleDataManager-xmbean.xml"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.SubjectManager" name="ComputeServer:service=SubjectManager"
        xmbean-dd="resource:META-INF/SubjectManager-xmbean.xml"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.WorkstationDataManager" name="ComputeServer:service=WorkstationDataManager"
    	xmbean-dd="resource:META-INF/WorkstationDataManager-xmbean.xml"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.PatternSearch" name="ComputeServer:service=PatternSearch"
        xmbean-dd="resource:META-INF/PatternSearch-xmbean.xml"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.TiledMicroscopeManager" name="ComputeServer:service=TiledMicroscopeManager"
           xmbean-dd="resource:META-INF/TiledMicroscopeManager-xmbean.xml"/>
    <mbean code="org.janelia.it.jacs.compute.mbean.GeometricIndexManager" name="ComputeServer:service=GeometricIndexManager"
            xmbean-dd="resource:META-INF/GeometricIndexManager-xmbean.xml">
        <depends>jboss.j2ee:ear=compute.ear,jar=compute.jar,name=ComputeEJB,service=EJB3</depends>
    </mbean>
    <mbean code="org.janelia.it.jacs.compute.mbean.Validator" name="ComputeServer:service=Validator"
           xmbean-dd="resource:META-INF/Validation-xmbean.xml"/>
     
    <mbean code="org.jboss.mq.server.jmx.Queue" name="jboss.mq.destination:service=Queue,name=ComputeServer">
        <depends optional-attribute-name="DestinationManager">jboss.mq:service=DestinationManager</depends>
        <depends optional-attribute-name="SecurityManager">jboss.mq:service=SecurityManager</depends>
        <attribute name="SecurityConf">
            <security>
                <role name="guest" read="true" write="true"/>
            </security>
        </attribute>
        <attribute name="RedeliveryDelay">60000</attribute>
        <attribute name="RedeliveryLimit">0</attribute>
    </mbean>

    <mbean code="org.jboss.mq.server.jmx.Queue" name="jboss.mq.destination:service=Queue,name=ComputeServerPartition">
        <depends optional-attribute-name="DestinationManager">jboss.mq:service=DestinationManager</depends>
        <depends optional-attribute-name="SecurityManager">jboss.mq:service=SecurityManager</depends>
        <attribute name="SecurityConf">
            <security>
                <role name="guest" read="true" write="true"/>
            </security>
        </attribute>
        <attribute name="RedeliveryDelay">60000</attribute>
        <attribute name="RedeliveryLimit">0</attribute>
    </mbean>
      
</server>
