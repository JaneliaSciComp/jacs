<!-- 
	Process all neuron separation results and rerun their file discoveries.
-->
<process name="Repair Separation Results Pipeline" processor="queue/largePipelineLauncher" startEvent="pending" updateProcessStatus="on_success">
	<sequence>
	            
		<operation name="Get Separations" processor="org.janelia.it.jacs.compute.service.entity.GetEntityIdsOfTypeService">
		    <input name="ENTITY_TYPE" value="Neuron Separator Pipeline Result"/>
			<output name="ENTITY_ID"/>
		</operation>
		
        <sequence forEach="ENTITY_ID">
        
            <!-- Load the separation results into the database -->
            <operation name="Repair Separation Result" processor="org.janelia.it.jacs.compute.service.fileDiscovery.IncrementalSeparationDiscoveryService">
                <input name="RESULT_ENTITY_ID" value="$V{ENTITY_ID}"/>
            </operation>
            
        </sequence>      
            
    </sequence>
</process>